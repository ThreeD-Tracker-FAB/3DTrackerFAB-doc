==================
Preprocessor usage
==================

This module is for preprocessing the recorded data, for merging the 3D point clouds, down sampling (removing overlapping points) the data, calculating the surface normal vector at each point, etc. The preprocessing is necessary for pose estimation in the Tracker (Chapter 5). When you start the Preprocessor, it asks to select a folder to processes the session data in. If you select a folder containing multiple sub-folders from different sessions, the module will processes the data in these sub-folders if they donâ€™t contain additional sub-levels. This is because the app does not search more than one level below the folder selected. The data preprocessed previously is skipped by default. The Preprocessor is called from the command prompt, and the preprocessing parameters are set by command line. We have prepared the following batch files that call the Preprocessor with certain predefined parameters as follows:

- Preproc_rat.bat: Use this for rats (down sampling voxel size = 10 mm).
- Preproc_rat(f).bat: Same as the previous one but it does not skip the data already preprocessed.  
- Preproc_mice.bat: Use this for mice (down sampling voxel size = 5 mm).
- Preproc_mice(f).bat: Same as Preproc_rat(f), but for mice.

**Example of a command line (Advanced):**

.. code-block:: ps1con

    > preprocessor.exe -f -2dvid -vsize 0.01 -camuse 0011

+ **-f**: no skip for the data preprocessed previously
+ **-2dvid**: generate 2D video files from RGBD data
+ **-vsize**: down sampling voxel size (in meters)
+ **-camuse**: selects cameras for the merging of the point clouds. 0=not use, 1=use. 

In the example above, the merging points cloud is generated by using images from the camera #3 and #4.

